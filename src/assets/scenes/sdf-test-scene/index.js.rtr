scene({
    renderSettings: {
        realtimeHitDepth: 2,
        hitDepth: 8,
        tMax: 5000,
        maxSphereTracingSteps: 255
    },
    camera: camera({
        lookFrom: {x: -3.865, y: 18.478, z: 95.985},
        lookAt: {x: -3.628, y: 17.717, z: 91.534},
        vfov: 45,
        aperture: 1e-8,
        velocity: 1,
    }),
    background: ['#000', '#010101'],
    geometries: [
        // sdf(
        //     {
        //         domain: {
        //             domainOp: 'twist',
        //             // axis: 'y',
        //             size: 0.1,
        //         },
        //         // bounding box has to be set manually
        //         // when doing bounded repetitions
        //         boundingBox: {
        //             minCoords: {x: -10, y: 0, z: -10},
        //             maxCoords: {x: 10, y: 20, z: 10}
        //         }
        //     },
        //     opUnionRound({radius: 4.0, colorBlendAmount: 0.3},
        //         sdfBox({
        //             domain: {
        //                 domainOp: 'repeatBounded',
        //                 // axis: 'yx',
        //                 size: 2,
        //                 repetitions: {
        //                     x: 2,
        //                     y: 2,
        //                     z: 2
        //                 }
        //             },
        //             material: 'floor-white',
        //             dimensions: {x: 0.5, y: 0.5, z: 0.5},
        //             position: {x: 0, y: 5, z: 0}
        //         }),
        //         sdfSphere({
        //             material: 'lambert-red',
        //             // material: 'floor-white',
        //             // material: 'dialectric-test',
        //             // material: 'metal-fuzz-test',
        //             radius: 3,
        //             position: {x: 0, y: 12, z: 0}
        //         })
        //     )
        // ),


        //
        // sdf(
        //     // {
        //     //     domain: {
        //     //         domainOp: 'repeat',
        //     //         axis: 'z',
        //     //         size: 40,
        //     //     },
        //     //     // bounding box has to be set manually
        //     //     // when doing csg repetitions
        //     //     boundingBox: {
        //     //         minCoords: {x: -100, y: 0, z: -30},
        //     //         maxCoords: {x: 100, y: 80, z: 30}
        //     //     }
        //     // },
        //     opSubtract(
        //         opUnionRound({radius: 6.0, colorBlendAmount: 0.5},
        //             opSubtract(
        //                 sdfSphere({
        //                     // material: `lambert-red`,
        //                     material: 'clearcoat-test',
        //                     radius: 10,
        //                     position: {x: 9, y: 5+4, z: 0}
        //                 }),
        //                 sdfSphere({
        //                     material: 'clearcoat-test',
        //                     radius: 10,
        //                     position: {x: 0, y: 5+4, z: 0}
        //                 })
        //             ),
        //             sdfBox({
        //                 // material: 'dialectric-test',
        //                 material: 'clearcoat-test',
        //                 // material: 'ceil-light',
        //                 dimensions: {x: 15, y: 3, z: 15},
        //                 position: {x: 11, y: 39, z: 9.5}
        //             }),
        //             sdfBox({
        //                 domain: {
        //                     domainOp: 'twist',
        //                     // axis: 'y',
        //                     size: 0.05,
        //                 },
        //                 // material: 'dialectric-test',
        //                 material: `lambert-red`,
        //                 // material: 'ceil-light',
        //                 dimensions: {x: 7, y: 7, z: 7},
        //                 position: {x: 11, y: 27, z: 9.5}
        //             }),
        //             sdfSphere({
        //                 // material: 'clearcoat-test',
        //                 material: 'floor-white',
        //                 // material: 'dialectric-test',
        //                 // material: 'metal-fuzz-test',
        //                 radius: 10,
        //                 position: {x: 10, y: 10, z: 20}
        //             })
        //         ),
        //         sdfSphere({
        //             // material: 'clearcoat-test',
        //             material: 'floor-white',
        //             // material: 'dialectric-test',
        //             // material: 'metal-fuzz-test',
        //             radius: 7,
        //             position: {x: 0, y: 39, z: 9.5}
        //         })
        //     )
        // ),
        // sdf(
        //     sdfCylinder({
        //         radius: 5,
        //         height: 5,
        //         position: {x: 8, y: 10, z: 0},
        //         rotation: { x: degToRad(45) },
        //         material: `lambert-red`,
        //     })
        // ),
        //

        sdf(
            // {
            //     boundingBox: {
            //         minCoords: [0, 0, 10],
            //         maxCoords: [20, 20, 30]
            //     }
            // },
            opSubtract(
                // sdfSphere({
                //     material: 'dialectric-test',
                //     // material: 'lambert-red',
                //     // material: 'metal-fuzz-test',
                //     radius: 10,
                //     position: {x: 0, y: 10, z: 0}
                // }),
                sdfBox({
                    domain: {
                        domainOp: 'twist',
                        // axis: 'y',
                        size: 0.1,
                    },
                    // material: 'dialectric-test',
                    material: 'lambert-red',
                    // material: 'metal-fuzz-test',
                    dimensions: {x: 10, y: 10, z: 10},
                    position: {x: 0, y: 10, z: 0}
                }),
                sdfSphere({
                    domain: {
                        domainOp: 'repeat',
                        axis: 'xyz',
                        size: 5
                    },
                    // material: 'dialectric-test',
                    material: `lambert-red`,
                    // material: 'ceil-light',
                    // dimensions: {x: 20, y: 2, z: 2},
                    radius: 3,
                    position: {x: 0, y: 0, z: 0}
                }),




                // sdfBox({
                //     domain: {
                //         domainOp: 'repeat',
                //         axis: 'y',
                //         size: 5
                //     },
                //     // material: 'dialectric-test',
                //     material: `lambert-red`,
                //     // material: 'ceil-light',
                //     dimensions: {x: 20, y: 2, z: 2},
                //     position: {x: 0, y: 0, z: 0}
                // }),
                // sdfBox({
                //     domain: {
                //         domainOp: 'repeat',
                //         axis: 'z',
                //         size: 6
                //     },
                //     // material: 'dialectric-test',
                //     material: `lambert-red`,
                //     // material: 'ceil-light',
                //     dimensions: {x: 20, y: 2, z: 2},
                //     position: {x: 0, y: 8, z: 5}
                // }),
            )
        ),



        // sphere({
        //     material: 'dialectric-test',
        //     // material: 'metal-fuzz-test',
        //     radius: 10,
        //     position: {x: 10, y: 10, z: 20}
        // }),






        plane({
            material: 'floor-white',
            // texture: {
            //     name: 'check',
            //     uvScale: 20
            // },
            scale: 1000,
            position: {
                x: 0,
                y: 0,
                z: 0
            },
        }),
        plane({
            material: 'ceil-light',
            scale: 30,
            position: {
                x: 50,
                y: 80.0,
                z: 0
            },
        }),
        plane({
            material: 'ceil-light',
            scale: 30,
            position: {
                x: -50,
                y: 80.0,
                z: 0
            },
        })
    ],
    textures: [
        // texture({
        //     name: 'check',
        //     src: `
        //         float s = sin(50.*uv.x)*sin(50.*uv.y);
        //         if(s < 0.) {
        //             tColor = vec4(${normedColorStr('#aaaaaa')}, 1.0);
        //         } else {
        //             tColor = vec4(0.3, 0.0, 0.0, 1.);
        //         }
        //     `
        // })
    ],
    materials: [
        lambertMaterial({
            name: `floor-white`,
            color: '#ffffff',
            albedo: [0.8, 0.8, 0.8]
        }),
        lambertMaterial({
            name: `lambert-red`,
            color: '#ff0000',
            albedo: [0.8, 0.8, 0.8]
        }),
        // clearcoatMaterial({
        //     name: 'lambert-red',
        //     color: '#ff0000',
        //     // color: '#101010',
        //     refIdx: 1.8,
        // }),
        emissiveMaterial({
            name: `ceil-light`,
            color: '#ffffff',
            intensity: 10
        }),
        dialectricMaterial({
            name: 'dialectric-test',
            // color: '#cccccc',
            color: '#ffffff',
            refIdx: 1.8,
        }),
        clearcoatMaterial({
            name: 'clearcoat-test',
            // color: '#ffffff',
            color: '#101010',
            refIdx: 1.8,
        }),
        metalMaterial({
            name: 'metal-fuzz-test',
            color: '#aaaaaa',
            fuzz: 0.1,
            albedo: [1.0, 1.0, 1.0]
        }),
    ]
});
